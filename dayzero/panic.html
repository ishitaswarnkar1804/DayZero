<!DOCTYPE html>
<html lang="en" data-theme="pastel">
<head>
<meta charset="UTF-8">
<title>DayZero — Panic Mode</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<style>
html, body { height:100%; }

.panic-room{
  max-width:1200px;
  margin:0 auto;
  height:calc(100vh - 120px);
  display:grid;
  grid-template-columns: 1fr 1.3fr;
  gap:32px;
  align-items:center;
}

.left{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
}

.ring{
  width:240px;height:240px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  background:rgba(255,255,255,.65);
  font-size:1.15rem;
  letter-spacing:.3px;
  animation:breathe 6s ease-in-out infinite;
  box-shadow:
    0 30px 80px rgba(0,0,0,.12),
    inset 0 0 0 1px rgba(255,255,255,.4);
}

@keyframes breathe{
  0%{transform:scale(1)}
  50%{transform:scale(1.12)}
  100%{transform:scale(1)}
}

.left .small{
  opacity:.65;
  font-size:.85rem;
}

.right{
  height:100%;
  display:grid;
  grid-template-rows: 1fr auto;
  gap:16px;
}

.panel{
  position:relative;
  height:100%;
}

.step{
  position:absolute;
  inset:0;
  opacity:0;
  pointer-events:none;
  transform:translateY(10px);
  transition:.4s ease;
}

.step.active{
  opacity:1;
  pointer-events:auto;
  transform:none;
}

.step .card{
  height:100%;
  display:flex;
  flex-direction:column;
  padding:22px;
  border-radius:22px;
  background:rgba(255,255,255,.6);
  backdrop-filter: blur(12px);
  box-shadow:0 20px 50px rgba(0,0,0,.08);
}

.step h3{
  font-weight:600;
  margin-bottom:6px;
}

.step textarea,
.step input{
  width:100%;
  border:none;
  outline:none;
  padding:12px 14px;
  border-radius:14px;
  background:rgba(255,255,255,.75);
  font-family:inherit;
  font-size:.95rem;
  line-height:1.5;
  margin-top:8px;
}

.btns{
  margin-top:auto;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}

.btns .link{
  padding:6px 12px;
  border-radius:10px;
  background:rgba(255,255,255,.5);
}

.quote{
  text-align:center;
  font-size:.95rem;
  opacity:.7;
  padding:6px 10px;
}

@media(max-width:800px){
  body{overflow:auto}
  .panic-room{
    height:auto;
    grid-template-columns:1fr;
    gap:24px;
  }
  .right{grid-template-rows:auto auto}
  .panel{height:auto}
  .step{
    position:static;
    opacity:1;
    pointer-events:auto;
    transform:none;
  }
  .ring{width:180px;height:180px}
}
</style>
</head>

<body>
<div class="overlay">
<header>
  <div>
    <div class="brand">Panic Mode</div>
    <div class="tagline">You are safe.</div>
  </div>
  <a href="index.html" class="link">Back</a>
</header>

<div class="panic-room">

  <!-- LEFT -->
  <div class="left">
    <div class="ring" id="breath">Inhale</div>
    <div class="small">Breathe with the circle.</div>
  </div>

  <!-- RIGHT -->
  <div class="right">

    <div class="panel">

      <div class="step active" id="s1">
        <div class="card">
          <h3>What’s scaring you right now?</h3>
          <textarea id="fear" placeholder="Let it out. You don’t have to be neat."></textarea>
          <div class="btns">
            <button class="link" onclick="next()">Continue</button>
          </div>
        </div>
      </div>

      <div class="step" id="s2">
        <div class="card">
          <h3>Let’s separate it</h3>
          <textarea id="control" placeholder="What is in your control?"></textarea>
          <textarea id="nocontrol" placeholder="What is not?" style="margin-top:10px"></textarea>
          <div class="btns">
            <button class="link" onclick="next()">Next</button>
          </div>
        </div>
      </div>

      <div class="step" id="s3">
        <div class="card">
          <h3>One small step</h3>
          <input id="tiny" placeholder="One thing I can do in 10 minutes…">
          <div class="btns">
            <button class="link" onclick="save()">Save & Ground</button>
          </div>
        </div>
      </div>

    </div>

    <div class="quote" id="quote"></div>

  </div>
</div>
</div>

<script>
const t = localStorage.getItem("dayzero-theme") || "pastel";
document.documentElement.setAttribute("data-theme", t);

const quotes = [
  "You are not broken. You are overwhelmed.",
  "This feeling will pass, even if it doesn’t feel like it.",
  "You don’t have to solve your whole life right now.",
  "Breathe. Nothing bad is happening in this moment.",
  "You are allowed to go slow.",
  "You have survived every hard day so far.",
  "It’s okay to be tired. You are still worthy.",
  "This is heavy, not hopeless.",
  "You are doing the best you can with what you have.",
  "Small steps still count.",
  "You are not behind in life.",
  "Right now, just being here is enough.",
  "You are allowed to rest.",
  "This moment does not define you.",
  "You are safer than your thoughts say you are."
];

document.getElementById("quote").textContent =
  quotes[Math.floor(Math.random() * quotes.length)];

let step = 1;
function next(){
  document.getElementById("s" + step).classList.remove("active");
  step++;
  document.getElementById("s" + step).classList.add("active");
}

const breath = document.getElementById("breath");
let phase = 0;
setInterval(() => {
  phase = (phase + 1) % 3;
  breath.textContent = ["Inhale", "Hold", "Exhale"][phase];
}, 2000);

function save(){
  const data = {
    time: Date.now(),
    fear: fear.value,
    control: control.value,
    nocontrol: nocontrol.value,
    tiny: tiny.value
  };

  const log = JSON.parse(localStorage.getItem("panic-log") || "[]");
  log.push(data);
  localStorage.setItem("panic-log", JSON.stringify(log));

  document.querySelector(".panel").innerHTML = `
  <div class="card" style="
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    gap:18px;
    padding:48px 32px;
  ">
    <div style="
      font-size:2rem;
      opacity:.9;
      letter-spacing:.3px;
    ">
      You are okay.
    </div>

    <div class="small" style="max-width:360px;line-height:1.6">
      You paused. You breathed. You chose to take care of yourself.
      That alone is strength.
    </div>

    <a href="index.html" class="link" style="
      margin-top:12px;
      padding:10px 18px;
      border-radius:14px;
      background:rgba(255,255,255,.55);
    ">
      Return Home
    </a>
  </div>
`;

}
</script>
</body>
</html>

